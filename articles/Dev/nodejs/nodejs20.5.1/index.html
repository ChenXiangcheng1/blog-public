<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Node.js | Nemesis</title><meta name="author" content="Nemesis,chenxiangcheng1@gmail.com"><meta name="copyright" content="Nemesis"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="主要是关于Node.js介绍，nvm和npm的使用，以及Hexo博客框架+b&#x3D;Butterfly主题的使用">
<meta property="og:type" content="article">
<meta property="og:title" content="Node.js">
<meta property="og:url" content="https://blog.haruharu.top/articles/Dev/nodejs/nodejs20.5.1/">
<meta property="og:site_name" content="Nemesis">
<meta property="og:description" content="主要是关于Node.js介绍，nvm和npm的使用，以及Hexo博客框架+b&#x3D;Butterfly主题的使用">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.haruharu.top/img/avatar.png">
<meta property="article:published_time" content="2023-08-22T16:00:00.000Z">
<meta property="article:modified_time" content="2024-05-31T14:51:45.247Z">
<meta property="article:author" content="Nemesis">
<meta property="article:tag" content="博客,ACM,技术,开发">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.haruharu.top/img/avatar.png"><link rel="shortcut icon" href="/img/favicon48.ico"><link rel="canonical" href="https://blog.haruharu.top/articles/Dev/nodejs/nodejs20.5.1/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":200,"languages":{"author":"作者: Nemesis","link":"链接: ","source":"来源: Nemesis","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Node.js',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-31 22:51:45'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 23
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">69</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">34</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/default_top_img.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Nemesis"><span class="site-name">Nemesis</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Node.js</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-22T16:00:00.000Z" title="发表于 2023-08-23 00:00:00">2023-08-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-05-31T14:51:45.247Z" title="更新于 2024-05-31 22:51:45">2024-05-31</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Node-js/">Node.js</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>19分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Node.js"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>Node.js20.5.1</h1>
<p>Node.js 是一个开源、跨平台的事件驱动 I/O 的服务端  JavaScript 运行时环境，基于 Google 的 V8 引擎。后端</p>
<ul>
<li>js 通过 node 在服务器上运行</li>
<li>node 提供了大量的工具库 js 可以和操作系统进行交互 (读写文件)<br>
Node 环境中没有 Web APIs ，和浏览器的上下文环境不同</li>
</ul>
<p>V8 引擎：执行 Javascript 的速度非常快性能非常好、单线程运行一次只能运行一个任务。</p>
<p><a target="_blank" rel="noopener" href="https://nodejs.org/zh-cn">官网</a></p>
<h2 id="nvm-windows1-1-11">nvm-windows1.1.11</h2>
<p>nvm-windows 是 <strong>node 版本管理工具</strong>，目前项目开发组转去开发新工具 <a target="_blank" rel="noopener" href="https://github.com/coreybutler/nvm-windows/wiki/Runtime">Runtime</a> 了。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/coreybutler/nvm-windows#usage">用法</a></p>
<h3 id="配置">配置</h3>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nvm node_mirror https://npmmirror.com/mirrors/node/</span><br><span class="line">nvm npm_mirror https://npmmirror.com/mirrors/npm/</span><br></pre></td></tr></table></figure>
<h3 id="其他Node版本管理工具">其他Node版本管理工具</h3>
<p><a target="_blank" rel="noopener" href="https://github.com/jasongin/nvs/">nvs</a></p>
<h2 id="npm9-8-1">npm9.8.1</h2>
<p>npm 是 <strong>node 包管理工具</strong>，在安装 Node.js 时，会自动安装 npm，但是 npm 的发布比 Node.js 更频繁，因此记得更新 npm。</p>
<p><a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v9/commands">npm CLI 文档</a>	|	<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/package">npm 包搜索引擎</a></p>
<h3 id="npm配置">npm配置</h3>
<p><a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v9/using-npm/config">.npmrc 配置</a></p>
<p><a target="_blank" rel="noopener" href="https://npmmirror.com/">npm 注册中心镜像</a></p>
<h3 id="npm命令">npm命令</h3>
<p><a target="_blank" rel="noopener" href="https://biaoyansu.com/20.4">https://biaoyansu.com/20.4</a></p>
<table>
<thead>
<tr>
<th>常用命令</th>
<th>释义</th>
<th>参数</th>
</tr>
</thead>
<tbody>
<tr>
<td>npm list [package]</td>
<td>查看已经安装的包</td>
<td>-g</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>npm i xxx -S</td>
<td>**全局安装：**在命令行上运行。安装位置：在 node 根路径下，即 E:\Develop\nvm\v18.14.2\node_modules<br /><strong>局域安装</strong>，需要<code>require()</code>。安装位置：当前目录下创建 node_modules 文件夹<br /><strong>最佳实践</strong>：<code>npm --registry https://registry.npm.taobao.org install</code></td>
<td>–save = -S，package.json里面的dependencies：生产环境需要依赖的包<br />–save-dev = -D，packege.json里面的devDependencies，只有开发环境下需要依赖的库，线上生产环境上并不需要他们，如开发中所使用的外部的测试或者文档框架，vue-cli脚手架</td>
</tr>
<tr>
<td><code>npm install npm@latest -g</code></td>
<td>升级 npm</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>npm cache clean --force</td>
<td>下载失败时，清理缓存</td>
<td></td>
</tr>
<tr>
<td>npm init -y (项目目录下)</td>
<td><strong>初始化项目</strong>，创建包信息<br />会创建pakeage.json文件记录项目开发中所要用到的包，以及项目的详细信息<br />使版本迭代和项目移植更加方便，防止误删包<br />pakeage.json中不要添加注释</td>
<td></td>
</tr>
<tr>
<td>npm install / npm i</td>
<td>npm会根据package.json配置文件中的依赖配置下载安装包。</td>
<td></td>
</tr>
<tr>
<td>npm key</td>
<td>执行value中的命令（pakeage.json中script）</td>
<td></td>
</tr>
<tr>
<td>npm help <command></td>
<td>帮助</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="第三方包">第三方包</h3>
<h4 id="nodemon">nodemon</h4>
<p>用于热编译代码，自动重启项目工程</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>释义</th>
</tr>
</thead>
<tbody>
<tr>
<td>nodemon ./server.js [localhost] [8080]</td>
<td>启动js</td>
</tr>
<tr>
<td>nodemon -help</td>
<td>帮助</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="es-checker">es-checker</h4>
<p>侦测运行环境支持哪些 ES6 的功能。</p>
<h1>未整理</h1>
<p>todo：目前了解 npm，有空再看后端 node.js 官网文档</p>
<h1>Node</h1>
<h2 id="Node-js是什么？">Node.js是什么？</h2>
<h3 id="Node环境执行JavaScript">Node环境执行JavaScript</h3>
<table>
<thead>
<tr>
<th>操作</th>
<th>释义</th>
</tr>
</thead>
<tbody>
<tr>
<td>vscode 中：ctrl + `（是键盘上esc下面的）</td>
<td>或者 查看——&gt;终端打开 终端<br/>最好进入js的那个目录</td>
</tr>
<tr>
<td>node .\demo.js</td>
<td>执行</td>
</tr>
<tr>
<td>node</td>
<td>进入node环境</td>
</tr>
<tr>
<td>.exit</td>
<td>退出node环境</td>
</tr>
</tbody>
</table>
<h2 id="ECMAScript6">ECMAScript6</h2>
<h3 id="JavaScript-和-ECMAScript-的关系">JavaScript 和 ECMAScript 的关系</h3>
<p>1996 年 11 月，JavaScript 的创造者 Netscape 公司，决定将 JavaScript 提交给标准化组织 ECMA，希<br>
望这种语言能够成为国际标准。次年，ECMA 发布 262 号标准文件（ECMA-262）的第一版，规定了浏<br>
览器脚本语言的标准，并将这种语言称为 ECMAScript，这个版本就是 1.0 版。<br>
JavaScript 是语言，ECMAScript 是标准化组织规定的标准</p>
<h3 id="ES6语法">ES6语法</h3>
<h4 id="对象">对象</h4>
<p>对象是由多组 key: value键值对构成的，其中 key可以是数字，value 可以是 方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">param1</span>: <span class="string">&quot;111&quot;</span>,</span><br><span class="line">    <span class="attr">myfunc</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">param1</span>);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">param1</span>)  <span class="comment">// this指向global</span></span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">num</span>: <span class="number">5</span>,</span><br><span class="line">    <span class="attr">str</span>: <span class="string">&quot;123&quot;</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="number">12</span></span><br><span class="line">&#125;</span><br><span class="line">obj1.<span class="title function_">myfunc</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1[<span class="number">1</span>]); <span class="comment">// 输出 数字键 要使用 索引</span></span><br></pre></td></tr></table></figure>
<h4 id="变量声明n">变量声明n</h4>
<h5 id="不用修饰符">不用修饰符</h5>
<p>该变量为全局作用域</p>
<h5 id="var">var</h5>
<ul>
<li>变量提升</li>
<li>函数作用域、全局作用域（存在变量泄露）</li>
</ul>
<h5 id="let">let</h5>
<ul>
<li>
<p>不存在变量提升</p>
</li>
<li>
<p>块级作用域</p>
</li>
<li>
<p>在 相同 作用域内不允许重复声明同一个变量</p>
</li>
</ul>
<blockquote>
<p>变量提升 (提前声明)：将当前作用域 (全局、函数作用域) 的所有变量的声明提升到程序的顶部，值为 undefined</p>
<p>变量泄露：</p>
<ul>
<li>在for(var i=0; i&lt;1; i++)循环中 var 声明的变量在全局范围内都生效，所有的 变量i 都指向同一个 全局变量i ，调用方法时输出的值就是最后一轮 i 的值</li>
<li>而let声明的变量在仅在块级作用域内生效，所以每一次for循环都生成了一个新的变量i，调用方法时输出的值是不同对象的值</li>
</ul>
</blockquote>
<h5 id="const">const</h5>
<ul>
<li>
<p>不存在变量提升</p>
</li>
<li>
<p>在 相同 作用域内不允许重复声明同一个变量</p>
</li>
<li>
<p>声明只读常量，必须初始化赋值</p>
</li>
</ul>
<blockquote>
<p>如果赋值的是变量，还是可以进行原地变化的，如：</p>
<p>列表原地变化：改变值，地址并没有变化，只是改变引用对象的值</p>
</blockquote>
<h4 id="Destructuring-解构赋值">Destructuring (解构赋值)</h4>
<p>ES6 允许按照一定模式，从<strong>数组</strong>和<strong>对象</strong>中提取值，对变量进行赋值，这被称为 Destructuring（解构）</p>
<h5 id="数组的解构赋值">数组的解构赋值</h5>
<p><code>let [x = 100, y, z] = [200, 123, ];</code></p>
<h5 id="对象的解构赋值">对象的解构赋值</h5>
<p>（还可以使用别名，不过原来的名字foo2就失效了）</p>
<p><code>let &#123;foo2:foo3, bar2=&quot;default&quot;&#125; = &#123;foo2: &quot;are&quot;&#125;;</code></p>
<h5 id="内置对象的解构赋值">内置对象的解构赋值</h5>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;sin, cos, random&#125; = <span class="title class_">Math</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> sin);</span><br></pre></td></tr></table></figure>
<h4 id="字符串相关扩展">字符串相关扩展</h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">includes</span>()</span><br><span class="line"><span class="title function_">startsWith</span>()</span><br><span class="line"><span class="title function_">endsWith</span>()</span><br></pre></td></tr></table></figure>
<h4 id="函数相关扩展">函数相关扩展</h4>
<h5 id="参数默认值">参数默认值</h5>
<h5 id="参数解构赋值">参数解构赋值</h5>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">&#123;name=<span class="string">&quot;zhangsan&quot;</span>, age=<span class="string">&quot;18&quot;</span>&#125; = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name + <span class="string">&quot;  &quot;</span> + age);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo</span>(&#123;<span class="attr">name</span>: <span class="string">&quot;lisi&quot;</span>, <span class="attr">age</span>: <span class="string">&quot;20&quot;</span>&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="rest参数-剩余参数">rest参数 剩余参数</h5>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">a, b, ...param</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(...param);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure>
<h5 id="箭头函数">箭头函数</h5>
<p>只是一个语法糖，匿名函数，省略 function return的写法</p>
<p>一般在一些不需要重复使用的方法上使用箭头函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种写法</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">sum</span>: <span class="keyword">function</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> num1 + num2;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">sum1</span>(<span class="number">2</span>,<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种写法，省略return</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    sum1 : <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> (num1 + num2)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">sum1</span>(<span class="number">2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<h4 id="this-指针">this 指针</h4>
<p>this 指向的是方法的调用者</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">param1</span>: <span class="string">&quot;111&quot;</span>,</span><br><span class="line">    <span class="attr">myfunc</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">param1</span>);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">param1</span>)  <span class="comment">// this指向 global</span></span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj1.<span class="title function_">myfunc</span>();</span><br><span class="line"><span class="comment">// setTimeout是顶层对象的方法 windows的顶层对象是 dom的 window，node是 global (顶层对象可以省略)</span></span><br></pre></td></tr></table></figure>
<p>使 this 指向定义时的对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解决方法1 保存对象再调用</span></span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">param1</span>: <span class="string">&quot;111&quot;</span>,</span><br><span class="line">    <span class="attr">myfunc</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        self = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">param1</span>);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(self.<span class="property">param1</span>)  <span class="comment">// self指向obj2</span></span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj2.<span class="title function_">myfunc</span>();</span><br></pre></td></tr></table></figure>
<h4 id="方法调用的三种方式（重点、常用）">方法调用的三种方式（重点、常用）</h4>
<blockquote>
<p>三种调用方式：</p>
<ul>
<li>同步调用：一种阻塞式调用，<strong>调用方/客户方要等待对方执行完毕才返回</strong>，它是一种单向调用；</li>
<li>回调：一种双向调用模式，也就是说，<strong>被调用方在接口被调用时也会调用对方的接口</strong>；</li>
<li>异步调用：一种类似消息或事件的机制，不过它的调用方向刚好相反，<strong>接口的服务在收到某种讯息或发生某种事件时，会主动通知客户方（即调用客户方的接口）</strong>。</li>
</ul>
<p>回调和异步调用的关系非常紧密：<strong>使用回调来实现异步消息的注册，通过异步调用来实现消息的通知。</strong></p>
</blockquote>
<h5 id="回调函数">回调函数</h5>
<p>回调函数，解决 this 指向问题，回调函数一般使用箭头函数</p>
<p>此时回调函数中的 this是从她们的语法范围内获取她们的值，不在乎叫什么，不在乎在哪里定义</p>
<p>也就是指向了定义时的对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解决方法2 使用回调函数调用this</span></span><br><span class="line"><span class="keyword">let</span> obj3 = &#123;</span><br><span class="line">    <span class="attr">param1</span>: <span class="string">&quot;111&quot;</span>,</span><br><span class="line">    <span class="attr">myfunc</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">param1</span>)</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj3.<span class="title function_">myfunc</span>();</span><br></pre></td></tr></table></figure>
<h6 id="定时器">定时器</h6>
<p>异步回调</p>
<p>Interval：(时间上的) 间隔</p>
<ul>
<li>setTimeout(回调函数, 时间) 		一个定时器</li>
<li>setInterval(回调函数, 时间) 		循环定时器，返回 intervalID</li>
<li>clearInterval(intervalID) 			根据intervalID取消定时器</li>
</ul>
<h5 id="Promise对象">Promise对象</h5>
<p>Promise对象，表示一个异步操作。对象和函数的区别就是对象可以保存状态，函数不可以（闭包除外）并未剥夺函数return的能力，因此无需层层传递callback，进行回调获取数据</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>( <span class="comment">// new时，不用调用，Promise中的函数就已经执行了</span></span><br><span class="line">  <span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="comment">// 一段耗时的异步操作</span></span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&#x27;要返回的数据可以任何数据例如接口返回数据&#x27;</span>) <span class="comment">// 数据处理完成</span></span><br><span class="line">    <span class="comment">// reject(&#x27;失败&#x27;) // 数据处理出错</span></span><br><span class="line">  &#125;</span><br><span class="line">).<span class="title function_">then</span>(</span><br><span class="line">  <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(res)&#125;,  <span class="comment">// 成功</span></span><br><span class="line">  <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(err)&#125; <span class="comment">// 失败</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Promise有三种状态：pending、fulfilled、rejected</p>
<p>resolve：在异步操作成功时调用，将Promise对象的状态从“pending”变为“fulfilled”，并将异步操作的结果，作为参数传递出去；<br>
reject：在异步操作失败时调用，将Promise对象的状态从“pending”变为“rejected”，并将异步操作报出的错误，作为参数传递出去；</p>
<p>then方法：其中有箭头函数，参数是resolve返回的结果，then和回调函数一个意思</p>
<h6 id="回调和Promise异步比较">回调和Promise异步比较</h6>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">   第一步：找到北京的id</span></span><br><span class="line"><span class="comment">   第二步：根据北京的id -&gt; 找到北京公司的id</span></span><br><span class="line"><span class="comment">   第三步：根据北京公司的id -&gt; 找到北京公司的详情</span></span><br><span class="line"><span class="comment">   目的：模拟链式调用、回调地狱</span></span><br><span class="line"><span class="comment"> ***/</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">// 回调地狱</span></span><br><span class="line"> <span class="comment">// 请求第一个API: 地址在北京的公司的id</span></span><br><span class="line"> $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">   <span class="attr">url</span>: <span class="string">&#x27;https://www.easy-mock.com/mock/5a52256ad408383e0e3868d7/lagou/city&#x27;</span>,</span><br><span class="line">   success (resCity) &#123;</span><br><span class="line">     <span class="keyword">let</span> findCityId = resCity.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">       <span class="keyword">if</span> (item.<span class="property">id</span> == <span class="string">&#x27;c1&#x27;</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> item</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;)[<span class="number">0</span>].<span class="property">id</span></span><br><span class="line">     </span><br><span class="line">     $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">       <span class="comment">//  请求第二个API: 根据上一个返回的在北京公司的id “findCityId”，找到北京公司的第一家公司的id</span></span><br><span class="line">       <span class="attr">url</span>: <span class="string">&#x27;https://www.easy-mock.com/mock/5a52256ad408383e0e3868d7/lagou/position-list&#x27;</span>,</span><br><span class="line">       success (resPosition) &#123;</span><br><span class="line">         <span class="keyword">let</span> findPostionId = resPosition.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">           <span class="keyword">if</span>(item.<span class="property">cityId</span> == findCityId) &#123;</span><br><span class="line">             <span class="keyword">return</span> item</span><br><span class="line">           &#125;</span><br><span class="line">         &#125;)[<span class="number">0</span>].<span class="property">id</span></span><br><span class="line">         <span class="comment">// 请求第三个API: 根据上一个API的id(findPostionId)找到具体公司，然后返回公司详情</span></span><br><span class="line">         $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">           <span class="attr">url</span>: <span class="string">&#x27;https://www.easy-mock.com/mock/5a52256ad408383e0e3868d7/lagou/company&#x27;</span>,</span><br><span class="line">           success (resCom) &#123;</span><br><span class="line">             <span class="keyword">let</span> comInfo = resCom.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">               <span class="keyword">if</span> (findPostionId == item.<span class="property">id</span>) &#123;</span><br><span class="line">                 <span class="keyword">return</span> item</span><br><span class="line">               &#125;</span><br><span class="line">             &#125;)[<span class="number">0</span>]</span><br><span class="line">             <span class="variable language_">console</span>.<span class="title function_">log</span>(comInfo)</span><br><span class="line">           &#125;</span><br><span class="line">         &#125;)</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;)</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">doSomething</span>(<span class="keyword">function</span>(<span class="params">result</span>) &#123;</span><br><span class="line">  <span class="title function_">doSomethingElse</span>(result, <span class="keyword">function</span>(<span class="params">newResult</span>) &#123;</span><br><span class="line">    <span class="title function_">doThirdThing</span>(newResult, <span class="keyword">function</span>(<span class="params">finalResult</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Got the final result: &#x27;</span> + finalResult);</span><br><span class="line">    &#125;, failureCallback);</span><br><span class="line">  &#125;, failureCallback);</span><br><span class="line">&#125;, failureCallback);</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Promise 写法</span></span><br><span class="line"><span class="comment">// 第一步：获取城市列表</span></span><br><span class="line"><span class="keyword">const</span> cityList = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;https://www.easy-mock.com/mock/5a52256ad408383e0e3868d7/lagou/city&#x27;</span>,</span><br><span class="line">        success (res) &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(res)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二步：找到城市是北京的id</span></span><br><span class="line">cityList.<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> findCityId = res.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (item.<span class="property">id</span> == <span class="string">&#x27;c1&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> item</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)[<span class="number">0</span>].<span class="property">id</span></span><br><span class="line">    <span class="title function_">findCompanyId</span>().<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 第三步（2）：根据北京的id -&gt; 找到北京公司的id</span></span><br><span class="line">        <span class="keyword">let</span> findPostionId = res.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(item.<span class="property">cityId</span> == findCityId) &#123;</span><br><span class="line">                <span class="keyword">return</span> item</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)[<span class="number">0</span>].<span class="property">id</span></span><br><span class="line">        <span class="comment">// 第四步（2）：传入公司的id</span></span><br><span class="line">        <span class="title function_">companyInfo</span>(findPostionId)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第三步（1）：根据北京的id -&gt; 找到北京公司的id</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">findCompanyId</span> () &#123;</span><br><span class="line">    <span class="keyword">let</span> aaa = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;https://www.easy-mock.com/mock/5a52256ad408383e0e3868d7/lagou/position-list&#x27;</span>,</span><br><span class="line">            success (res) &#123;</span><br><span class="line">                <span class="title function_">resolve</span>(res)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> aaa</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第四步：根据上一个API的id(findPostionId)找到具体公司，然后返回公司详情</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">companyInfo</span> (id) &#123;</span><br><span class="line">    <span class="keyword">let</span> companyList = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;https://www.easy-mock.com/mock/5a52256ad408383e0e3868d7/lagou/company&#x27;</span>,</span><br><span class="line">            success (res) &#123;</span><br><span class="line">                <span class="keyword">let</span> comInfo = res.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (id == item.<span class="property">id</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> item</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)[<span class="number">0</span>]</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(comInfo)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Promise chain 链</span></span><br><span class="line"><span class="title function_">doSomething</span>().<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">result</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">doSomethingElse</span>(result);</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">newResult</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">doThirdThing</span>(newResult);</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">finalResult</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Got the final result: &#x27;</span> + finalResult);</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">catch</span>(failureCallback);</span><br></pre></td></tr></table></figure>
<h5 id="ES7-async-await-协程">ES7 async await 协程</h5>
<p>async 用于<strong>定义异步函数</strong>，该函数一定会<strong>返回Promise</strong>。</p>
<p>await 操作符用于<strong>等待一个Promise 对象</strong>。它只能在异步函数 async function 中使用。</p>
<h6 id="比较-Promise和-async">比较 Promise和 async</h6>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getProcessedData</span>(<span class="params">url</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">downloadData</span>(url) <span class="comment">// returns a promise</span></span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">downloadFallbackData</span>(url)  <span class="comment">// returns a promise</span></span><br><span class="line">        .<span class="title function_">then</span>(<span class="function"><span class="params">v</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="title function_">processDataInWorker</span>(v); <span class="comment">// returns a promise</span></span><br><span class="line">        &#125;); </span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">v</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">processDataInWorker</span>(v); <span class="comment">// returns a promise</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getProcessedData</span>(<span class="params">url</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> v;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    v = <span class="keyword">await</span> <span class="title function_">downloadData</span>(url); </span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    v = <span class="keyword">await</span> <span class="title function_">downloadFallbackData</span>(url);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">processDataInWorker</span>(v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="和-的区别">==和===的区别</h4>
<p>==：仅比较值</p>
<p>===：比较地址，即比类型和值</p>
<p>计算每个数字有多少个</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">count</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> c = &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> a = arr[i];</span><br><span class="line">        c[a] === <span class="literal">undefined</span> ? c[a] = <span class="number">1</span> : c[a]++;  <span class="comment">// 三元表达式  // 对象索引操作</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line">result = <span class="title function_">count</span>(arr);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br></pre></td></tr></table></figure>
<h4 id="闭包">闭包</h4>
<p>闭包就是能够读取其他函数内部变量的函数。</p>
<p>由于在Javascript语言中，只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解成&quot;定义在一个函数内部的函数&quot;。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"></span>)&#123;</span><br><span class="line">　　　　<span class="keyword">var</span> n=<span class="number">999</span>;</span><br><span class="line">　　　　<span class="keyword">function</span> <span class="title function_">f2</span>(<span class="params"></span>)&#123;</span><br><span class="line">　　　　　　<span class="title function_">alert</span>(n);</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　　　<span class="keyword">return</span> f2;</span><br><span class="line">　　&#125;</span><br><span class="line">　　<span class="keyword">var</span> result=<span class="title function_">f1</span>();</span><br><span class="line">　　<span class="title function_">result</span>(); <span class="comment">// 999</span></span><br></pre></td></tr></table></figure>
<h3 id="Node-结合-ES6的语法特点">Node 结合 ES6的语法特点</h3>
<h4 id="Node-的异步操作">Node 的异步操作</h4>
<p>V8 引擎是单线程运行的，一次只能运行一个任务。这导致 Node 大量采用异步操作。</p>
<blockquote>
<p>sync 同步(阻塞)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line">&gt;<span class="keyword">var</span> data = fs.<span class="title function_">readFileSync</span>(<span class="string">&quot;./data.txt&quot;</span>);</span><br><span class="line">&gt;<span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="title function_">toString</span>());</span><br><span class="line">&gt;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;done&quot;</span>);  </span><br><span class="line">&gt;<span class="comment">// data </span></span><br><span class="line">&gt;<span class="comment">// done</span></span><br></pre></td></tr></table></figure>
<p>async 异步 (非阻塞)</p>
<p>异步操作：asynchronous operation，即任务不是马上执行，而是插在任务队列的尾部，等到前面的任务运行完后再执行。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">// 这里有个回调函数作为参数， 回调函数，就是在文件处理完再回过头来调用，配合异步使用的  </span></span><br><span class="line">&gt;<span class="comment">//回调函数 第一个参数是err错误信息，第二个参数的数据</span></span><br><span class="line">&gt;<span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line">&gt;fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./data.txt&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, data</span>) &#123;</span><br><span class="line">&gt;<span class="keyword">if</span>(err) &#123;</span><br><span class="line">&gt;<span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;<span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="title function_">toString</span>());</span><br><span class="line">&gt;&#125;)</span><br><span class="line">&gt;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;done&quot;</span>);</span><br><span class="line">&gt;<span class="comment">// done</span></span><br><span class="line">&gt;<span class="comment">// data </span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="Node-的模块化开发">Node 的模块化开发</h4>
<p>模块是什么？：一个模块就是一个文件，是一个独立的作用域，对其他的文件都是不可见的</p>
<p>解决什么问题？：<strong>解决js文件之间的复杂依赖关系而导致的 变量名冲突问题</strong></p>
<p>在 nodejs 中，模块之间相互独立，模块组成包，包组成应用。</p>
<h5 id="CommonJS-模块规范">CommonJS 模块规范</h5>
<p>nodejs 采用的 <strong>模块化规范</strong> 是 CommonJS 模块规范</p>
<h6 id="模块的导出">模块的导出</h6>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">module</span>); <span class="comment">// module变量：指向当前模块，标识每个模块的信息</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">param</span> = a  <span class="comment">// exports属性：指向对外暴露的对象</span></span><br></pre></td></tr></table></figure>
<p>我们要在对外暴露的对象上再加上属性来使用，如果不加上属性，只能保存一个变量</p>
<p>exports：指向 module.exports，不能进行赋值操作，因为 exports 是引用，进行赋值操作就指向了其他地方了</p>
<h6 id="模块的导入">模块的导入</h6>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> demo = <span class="built_in">require</span>(<span class="string">&#x27;./demo07.js&#x27;</span>)  <span class="comment">// 加载模块，js后缀可以省略</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(demo.<span class="property">param</span>);  <span class="comment">// 加载某个模块，加载的就是module.exports实例，这个属性指向要传递的对象</span></span><br></pre></td></tr></table></figure>
<h4 id="JS文件-导入导出机制-模块化规范、重">JS文件 导入导出机制 (模块化规范、重)</h4>
<p>exports / module.exports：CommonJS 规范<br>
export default：ES6 规范，只能用一次，导出一个默认模板，可以匿名<br>
export{}：ES6 规范，导入导出变量名要一致<br>
@ 是src路径的别名alias</p>
<p>后端，Node.js 环境采用的模块化规范是 CommonJS 规范<br>
前端，ES6规范，使用的是 import 和 export default</p>
<p>前端导入导出如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">	<span class="keyword">import</span> <span class="title class_">FooterNav</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/footer&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="attr">name</span>: <span class="string">&#x27;xxx&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 要在导出中注册私有组件后，才能在导出的模板中使用该组件！！</span></span></span><br><span class="line"><span class="language-javascript"><span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">FooterNav</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="Node模块分类">Node模块分类</h5>
<ul>
<li>核心模块<br>
fs：					文件操作模块<br>
http：				网络操作模块<br>
path：				路径操作模块<br>
url：					解析地址的模块<br>
querystring：	解析参数字符串的模块<br>
使用方法：字节通过 require 加载即可</li>
<li>自定义模块<br>
使用方法：使用相对路径加载模块即可</li>
<li>第三方模块<br>
社区或个人提供，如：jquery、mysql<br>
使用方法：1.npm去下载  2.引用使用</li>
</ul>
<h5 id="HTTP模块的使用">HTTP模块的使用</h5>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 初步实现服务器功能</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.加载http模块</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(http);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.创建服务器的实例对象  该对象 用来接收请求并做出响应</span></span><br><span class="line"><span class="keyword">let</span> server = http.<span class="title function_">createServer</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.通过事件绑定机制（node是基于事件驱动的） 第一个参数事件，第二个参数回调函数</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    res.<span class="title function_">end</span>(<span class="string">&#x27;hello&#x27;</span>);  <span class="comment">// 在页面上输出</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 监听端口 开3000端口</span></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用链式编程，简化代码</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"></span><br><span class="line">http.<span class="title function_">createServer</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(req);</span><br><span class="line">    res.<span class="title function_">end</span>(<span class="string">&quot;你好&quot;</span>);  <span class="comment">// 响应</span></span><br><span class="line">&#125;).<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="string">&quot;192.168.0.103&quot;</span>, <span class="function">() =&gt;</span> &#123;  <span class="comment">// 相当于server调用listen方法</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;running...&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    1.req 请求 http.inComingMessage 的实例对象 它可用于访问响应状态，消息头，以及数据，由http.Server或http.ClientRequest创建，它作为第一个参数传递给request事件和response事件</span></span><br><span class="line"><span class="comment">    2.res 响应 http.serverResponse 的实例对象 此对象由HTTP服务器在内部创建，而不是由用户创建，它作为第二个参数传递给request事件</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"></span><br><span class="line">http.<span class="title function_">createServer</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// req.url 可以获取url中的路径(端口之后的部分)</span></span><br><span class="line">    <span class="keyword">if</span> (req.<span class="property">url</span>.<span class="title function_">startsWith</span>(<span class="string">&quot;/index&quot;</span>)) &#123;</span><br><span class="line">        <span class="comment">// end 用来结束响应的方法 也可以页面输出一次内容 只能执行一次</span></span><br><span class="line">        <span class="comment">// res.end(req.url);</span></span><br><span class="line">        res.<span class="title function_">write</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        res.<span class="title function_">write</span>(<span class="string">&#x27;world&#x27;</span>);  <span class="comment">// 向页面响应内容 可以执行多次 需要注意的是 如果响应没有结束则无输出结果</span></span><br><span class="line">        res.<span class="title function_">end</span>();  <span class="comment">// 响应结束</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;).<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="string">&quot;192.168.0.103&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;listenting&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="MYSQL模块的使用">MYSQL模块的使用</h5>
<p><a target="_blank" rel="noopener" href="https://www.oschina.net/translate/node-mysql-tutorial">Node-MySQL  API文档</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注意 SQL注入不要有嗷</span></span><br><span class="line"><span class="comment">// node连接数据库</span></span><br><span class="line"><span class="comment">// 1. 加载mysql包</span></span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&#x27;mysql&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 创建数据库连接对象 确定数据库配置信息</span></span><br><span class="line"><span class="keyword">let</span> conn = mysql.<span class="title function_">createConnection</span>(&#123;</span><br><span class="line">    <span class="attr">host</span>: <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">    <span class="attr">post</span>: <span class="string">&#x27;3306&#x27;</span>,</span><br><span class="line">    <span class="attr">user</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;123&#x27;</span>,</span><br><span class="line">    <span class="attr">database</span>: <span class="string">&#x27;icake&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.连接数据库</span></span><br><span class="line">conn.<span class="title function_">connect</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 定义sql语句</span></span><br><span class="line"><span class="keyword">let</span> sql = <span class="string">&#x27;select * from cake&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5.执行查询   query()   第一个参数是sql语句     第二个参数  回调函数</span></span><br><span class="line">conn.<span class="title function_">query</span>(sql, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">typeof</span>(err));</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="title function_">toString</span>());</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">typeof</span>(data));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 6.关闭连接</span></span><br><span class="line">conn.<span class="title function_">end</span>();</span><br><span class="line"></span><br><span class="line">升级版 使用连接池！！！并封装</span><br><span class="line"><span class="comment">// 对象的创建和销毁十分消耗资源 ==》数据库连接池</span></span><br><span class="line"><span class="comment">// 数据库连接池 始终将连接对象维护在缓存中</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&quot;mysql&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数据库连接池的创建</span></span><br><span class="line"><span class="keyword">const</span> pool = mysql.<span class="title function_">createPool</span>(&#123;</span><br><span class="line">    <span class="attr">host</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">    <span class="attr">user</span>: <span class="string">&quot;root&quot;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&quot;123&quot;</span>,</span><br><span class="line">    <span class="attr">database</span>: <span class="string">&quot;db_test&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 封装一个抽象的方法</span></span><br><span class="line"><span class="comment">// 原因：多次以不同的sql语句访问数据库 select name from test1 where id=?</span></span><br><span class="line"><span class="keyword">const</span> query01 = <span class="keyword">function</span>(<span class="params">sql, sqlParams, callback</span>) &#123;</span><br><span class="line">    <span class="comment">// 获取数据库连接</span></span><br><span class="line">    pool.<span class="title function_">getConnection</span>(<span class="function">(<span class="params">err, conn</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">            <span class="comment">// 连接错误的回调</span></span><br><span class="line">            <span class="title function_">callback</span>(err, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 连接成功的回调   </span></span><br><span class="line">            conn.<span class="title function_">query</span>(sql, sqlParams, <span class="function">(<span class="params">error, results, fields</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="comment">// error: 错误信息 results: 查询结果 fields: 字段信息</span></span><br><span class="line">                <span class="comment">// 释放资源</span></span><br><span class="line">                conn.<span class="title function_">release</span>();</span><br><span class="line">                <span class="title function_">callback</span>(err, results, fields)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = query01</span><br><span class="line"></span><br><span class="line">使用封装好的数据库连接池</span><br><span class="line"><span class="keyword">const</span> query = <span class="built_in">require</span>(<span class="string">&quot;../db.js&quot;</span>)</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&quot;/register&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> sql = <span class="string">&quot;SELECT * FROM USER_INFO WHERE EMAIL = ?&quot;</span>    </span><br><span class="line">    <span class="keyword">let</span> sqlParams = [</span><br><span class="line">        req.<span class="property">body</span>.<span class="property">email</span></span><br><span class="line">    ]</span><br><span class="line">    <span class="title function_">query</span>(sql, sqlParams, <span class="function">(<span class="params">err, result, fields</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">            res.<span class="title function_">json</span>(&#123;</span><br><span class="line">                <span class="attr">ok</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">err</span>: err</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">            <span class="comment">// console.log(err)   </span></span><br><span class="line">            <span class="comment">// console.log(result) </span></span><br><span class="line">            <span class="comment">// console.log(fields) </span></span><br><span class="line">            res.<span class="title function_">json</span>(&#123;</span><br><span class="line">                <span class="attr">ok</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">msg</span>: <span class="string">&quot;hello hi&quot;</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h6 id="传统动态网站开发需要的应用">传统动态网站开发需要的应用</h6>
<p>PHP：Apache + php模块<br>
Java：Tomcat + Weblogic</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.haruharu.top">Nemesis</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.haruharu.top/articles/Dev/nodejs/nodejs20.5.1/">https://blog.haruharu.top/articles/Dev/nodejs/nodejs20.5.1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.haruharu.top" target="_blank">Nemesis</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/articles/Dev/Spring/spring-boot/spring_boot3.2.0/" title="Spring Boot"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Spring Boot</div></div></a></div><div class="next-post pull-right"><a href="/articles/Dev/tools/build-tools/Gradle8.2.1/" title="Gradle"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Gradle</div></div></a></div></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Nemesis</div><div class="author-info__description">浙江外国语学院大四老人</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">69</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">34</div></a></div><a id="card-info-btn" href="mailto:chenxiangcheng1@gmail.com"><i class="fas fa-envelope"></i><span>Contact Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/chenxiangcheng1" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:chenxiangcheng1@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://space.bilibili.com/36033539" target="_blank" title="Bili"><i class="fa-brands fa-bilibili" style="color: #74C0FC;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">有空B站直播写代码 ( •̀ ω •́ )✧</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">Node.js20.5.1</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#nvm-windows1-1-11"><span class="toc-number">1.1.</span> <span class="toc-text">nvm-windows1.1.11</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.1.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96Node%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7"><span class="toc-number">1.1.2.</span> <span class="toc-text">其他Node版本管理工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm9-8-1"><span class="toc-number">1.2.</span> <span class="toc-text">npm9.8.1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#npm%E9%85%8D%E7%BD%AE"><span class="toc-number">1.2.1.</span> <span class="toc-text">npm配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#npm%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.2.</span> <span class="toc-text">npm命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8C%85"><span class="toc-number">1.2.3.</span> <span class="toc-text">第三方包</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#nodemon"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">nodemon</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#es-checker"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">es-checker</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">未整理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">Node</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Node-js%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">3.1.</span> <span class="toc-text">Node.js是什么？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Node%E7%8E%AF%E5%A2%83%E6%89%A7%E8%A1%8CJavaScript"><span class="toc-number">3.1.1.</span> <span class="toc-text">Node环境执行JavaScript</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ECMAScript6"><span class="toc-number">3.2.</span> <span class="toc-text">ECMAScript6</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JavaScript-%E5%92%8C-ECMAScript-%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">3.2.1.</span> <span class="toc-text">JavaScript 和 ECMAScript 的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6%E8%AF%AD%E6%B3%95"><span class="toc-number">3.2.2.</span> <span class="toc-text">ES6语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8En"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">变量声明n</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%8D%E7%94%A8%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">3.2.2.2.1.</span> <span class="toc-text">不用修饰符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#var"><span class="toc-number">3.2.2.2.2.</span> <span class="toc-text">var</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#let"><span class="toc-number">3.2.2.2.3.</span> <span class="toc-text">let</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#const"><span class="toc-number">3.2.2.2.4.</span> <span class="toc-text">const</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Destructuring-%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">3.2.2.3.</span> <span class="toc-text">Destructuring (解构赋值)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">3.2.2.3.1.</span> <span class="toc-text">数组的解构赋值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">3.2.2.3.2.</span> <span class="toc-text">对象的解构赋值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">3.2.2.3.3.</span> <span class="toc-text">内置对象的解构赋值</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%85%B3%E6%89%A9%E5%B1%95"><span class="toc-number">3.2.2.4.</span> <span class="toc-text">字符串相关扩展</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9B%B8%E5%85%B3%E6%89%A9%E5%B1%95"><span class="toc-number">3.2.2.5.</span> <span class="toc-text">函数相关扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">3.2.2.5.1.</span> <span class="toc-text">参数默认值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">3.2.2.5.2.</span> <span class="toc-text">参数解构赋值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#rest%E5%8F%82%E6%95%B0-%E5%89%A9%E4%BD%99%E5%8F%82%E6%95%B0"><span class="toc-number">3.2.2.5.3.</span> <span class="toc-text">rest参数 剩余参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.2.5.4.</span> <span class="toc-text">箭头函数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#this-%E6%8C%87%E9%92%88"><span class="toc-number">3.2.2.6.</span> <span class="toc-text">this 指针</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%88%E9%87%8D%E7%82%B9%E3%80%81%E5%B8%B8%E7%94%A8%EF%BC%89"><span class="toc-number">3.2.2.7.</span> <span class="toc-text">方法调用的三种方式（重点、常用）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.2.7.1.</span> <span class="toc-text">回调函数</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="toc-number">3.2.2.7.1.1.</span> <span class="toc-text">定时器</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Promise%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.2.2.7.2.</span> <span class="toc-text">Promise对象</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%92%8CPromise%E5%BC%82%E6%AD%A5%E6%AF%94%E8%BE%83"><span class="toc-number">3.2.2.7.2.1.</span> <span class="toc-text">回调和Promise异步比较</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ES7-async-await-%E5%8D%8F%E7%A8%8B"><span class="toc-number">3.2.2.7.3.</span> <span class="toc-text">ES7 async await 协程</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%AF%94%E8%BE%83-Promise%E5%92%8C-async"><span class="toc-number">3.2.2.7.3.1.</span> <span class="toc-text">比较 Promise和 async</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%92%8C-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.2.2.8.</span> <span class="toc-text">&#x3D;&#x3D;和&#x3D;&#x3D;&#x3D;的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">3.2.2.9.</span> <span class="toc-text">闭包</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Node-%E7%BB%93%E5%90%88-ES6%E7%9A%84%E8%AF%AD%E6%B3%95%E7%89%B9%E7%82%B9"><span class="toc-number">3.2.3.</span> <span class="toc-text">Node 结合 ES6的语法特点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Node-%E7%9A%84%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C"><span class="toc-number">3.2.3.1.</span> <span class="toc-text">Node 的异步操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Node-%E7%9A%84%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91"><span class="toc-number">3.2.3.2.</span> <span class="toc-text">Node 的模块化开发</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#CommonJS-%E6%A8%A1%E5%9D%97%E8%A7%84%E8%8C%83"><span class="toc-number">3.2.3.2.1.</span> <span class="toc-text">CommonJS 模块规范</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E7%9A%84%E5%AF%BC%E5%87%BA"><span class="toc-number">3.2.3.2.1.1.</span> <span class="toc-text">模块的导出</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E7%9A%84%E5%AF%BC%E5%85%A5"><span class="toc-number">3.2.3.2.1.2.</span> <span class="toc-text">模块的导入</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JS%E6%96%87%E4%BB%B6-%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA%E6%9C%BA%E5%88%B6-%E6%A8%A1%E5%9D%97%E5%8C%96%E8%A7%84%E8%8C%83%E3%80%81%E9%87%8D"><span class="toc-number">3.2.3.3.</span> <span class="toc-text">JS文件 导入导出机制 (模块化规范、重)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Node%E6%A8%A1%E5%9D%97%E5%88%86%E7%B1%BB"><span class="toc-number">3.2.3.3.1.</span> <span class="toc-text">Node模块分类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.3.3.2.</span> <span class="toc-text">HTTP模块的使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#MYSQL%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.3.3.3.</span> <span class="toc-text">MYSQL模块的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BC%A0%E7%BB%9F%E5%8A%A8%E6%80%81%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E9%9C%80%E8%A6%81%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">3.2.3.3.3.1.</span> <span class="toc-text">传统动态网站开发需要的应用</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/articles/%E4%BA%8C%E7%BA%A7%E5%B8%82%E5%9C%BA/%E8%80%83%E8%AF%95/%E5%9F%BA%E4%BB%8E/" title="基金从业资格证">基金从业资格证</a><time datetime="2024-06-01T16:00:00.000Z" title="发表于 2024-06-02 00:00:00">2024-06-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/articles/Dev/language/small-language/YAML1.2/" title="YAML">YAML</a><time datetime="2024-04-19T16:00:00.000Z" title="发表于 2024-04-20 00:00:00">2024-04-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/articles/Dev/%E6%9C%8D%E5%8A%A1%E4%B8%AD%E9%97%B4%E4%BB%B6/Web%E4%B8%AD%E9%97%B4%E4%BB%B6/Nginx/" title="Nginx"><img src="https://cdn.jsdelivr.net/gh/ChenXiangcheng1/image-hosting2/img/2023_09_25_08_26_56.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nginx"/></a><div class="content"><a class="title" href="/articles/Dev/%E6%9C%8D%E5%8A%A1%E4%B8%AD%E9%97%B4%E4%BB%B6/Web%E4%B8%AD%E9%97%B4%E4%BB%B6/Nginx/" title="Nginx">Nginx</a><time datetime="2024-03-17T16:00:00.000Z" title="发表于 2024-03-18 00:00:00">2024-03-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/articles/Dev/design-patterns/%E7%BB%93%E6%9E%84%E5%9E%8B/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/" title="桥接模式"><img src="https://refactoringguru.cn/images/patterns/diagrams/bridge/structure-zh.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="桥接模式"/></a><div class="content"><a class="title" href="/articles/Dev/design-patterns/%E7%BB%93%E6%9E%84%E5%9E%8B/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/" title="桥接模式">桥接模式</a><time datetime="2024-03-12T16:00:00.000Z" title="发表于 2024-03-13 00:00:00">2024-03-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/articles/Dev/design-patterns/%E5%88%9B%E5%BB%BA%E5%9E%8B/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/" title="抽象工厂模式"><img src="https://cdn.jsdelivr.net/gh/ChenXiangcheng1/image-hosting2/img/2024_0308_133937.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="抽象工厂模式"/></a><div class="content"><a class="title" href="/articles/Dev/design-patterns/%E5%88%9B%E5%BB%BA%E5%9E%8B/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/" title="抽象工厂模式">抽象工厂模式</a><time datetime="2024-03-07T16:00:00.000Z" title="发表于 2024-03-08 00:00:00">2024-03-08</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/default_top_img.png')"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By Nemesis</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(()=>{
  const getGiscusTheme = theme => {
    return theme === 'dark' ? 'dark' : 'light'
  }

  const loadGiscus = () => {
    const config = Object.assign({
      src: 'https://giscus.app/client.js',
      'data-repo': 'ChenXiangcheng1/chenxiangcheng1.github.io',
      'data-repo-id': 'R_kgDOJEy5Dw',
      'data-category-id': 'DIC_kwDOJEy5D84CfyxF',
      'data-mapping': 'pathname',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true
    },{"data-mapping":"title","data-input-position":"bottom"})

    const ele = document.createElement('script')
    for (let key in config) {
      ele.setAttribute(key, config[key])
    }
    document.getElementById('giscus-wrap').appendChild(ele)
  }

  const changeGiscusTheme = theme => {
    const sendMessage = message => {
      const iframe = document.querySelector('iframe.giscus-frame')
      if (!iframe) return
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app')
    }

    sendMessage({
      setConfig: {
        theme: getGiscusTheme(theme)
      }
    });
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if ('Giscus' === 'Giscus' || !true) {
    if (true) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment= loadGiscus
  }
})()</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>